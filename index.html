<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Lovingly Framed</title>

<style>
:root{
  --bg:#fff7fb;
  --bg2:#fde8f2;
  --card:#ffffff;
  --pink:#f6a6c9;
  --purple:#c9b6e4;
  --text:#6a3d57;
  --muted:#9b6f86;
  --stroke:rgba(0,0,0,.06);
  --shadow:0 14px 35px rgba(233,133,179,.18);
  --radius:24px;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: system-ui, -apple-system, Tahoma, Arial;
  background:
    radial-gradient(700px 420px at 10% 10%, #ffe4f1, transparent 60%),
    radial-gradient(700px 420px at 90% 15%, #efe6ff, transparent 60%),
    linear-gradient(180deg,var(--bg),var(--bg2));
  color:var(--text);
  min-height:100vh;
}

.wrap{
  max-width:980px;
  margin:0 auto;
  padding:12px;
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* Header */
.header{
  background:rgba(255,255,255,.88);
  border:1px solid var(--stroke);
  border-radius:calc(var(--radius) + 8px);
  box-shadow:var(--shadow);
  padding:10px 12px;
  text-align:center;
  backdrop-filter: blur(8px);
  flex-shrink: 0;
}
.header .logo{
  width:44px;
  height:44px;
  border-radius:18px;
  margin:0 auto 8px;
  background:linear-gradient(135deg,var(--pink),var(--purple));
  box-shadow:0 14px 30px rgba(233,133,179,.35);
}
.header h1{
  margin:0;
  font-size:16px;
  font-weight:1000;
}
.header p{
  margin:6px 0 0;
  font-size:12px;
  color:var(--muted);
}

/* ===== Home layout: no scroll ===== */
#homeView{
  flex: 1;
  min-height: 0;
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top: 8px;
}

/* 2x2 Grid fits screen */
.grid{
  flex:1;
  min-height: 0;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}

.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  cursor:pointer;
  transition:.15s ease;
  display:flex;
  flex-direction:column;
  min-height: 0;
}
.card:hover{ transform:translateY(-2px); }

.thumb{
  width:100%;
  height: 120px; /* تصغير ارتفاع الصور */
  object-fit:cover;
  display:block;
  background:#f7eaf1;
}

.meta{
  padding:6px 8px 8px;
  text-align:center;
  flex-shrink: 0;
}
.meta h3{
  margin:0;
  font-size:12px;
  font-weight:1000;
  line-height: 1.3;
}
.meta span{
  display:block;
  margin-top:3px;
  font-size:10px;
  color:var(--muted);
}
.badge{
  margin-top:6px;
  display:inline-block;
  padding:4px 8px;
  font-size:9px;
  border-radius:999px;
  background:rgba(246,166,201,.18);
  border:1px solid rgba(246,166,201,.35);
  color:#7a3f5c;
}

/* Footer contact (inside same screen) */
.footer{
  text-align:center;
  color:var(--muted);
  font-size:11px;
  padding:6px 0 0;
  flex-shrink: 0;
}
.footer .phone{
  margin-top:4px;
  font-size:13px;
  color:var(--text);
  font-weight:1000;
  direction:ltr;
  unicode-bidi: plaintext;
}
.wa{
  margin:6px auto 0;
  width:40px;
  height:40px;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#25D366;
  box-shadow:0 10px 20px rgba(37,211,102,.25);
  cursor:pointer;
}
.wa svg{width:22px;height:22px;fill:#fff}

/* Category page */
.pageTop{
  background:#fff;
  border:1px solid var(--stroke);
  border-radius:calc(var(--radius) + 8px);
  box-shadow:var(--shadow);
  padding:10px;
  display:flex;
  align-items:center;
  gap:8px;
  flex-shrink: 0;
}
.back{
  border:1px solid var(--stroke);
  background:#fff;
  padding:8px 12px;
  border-radius:14px;
  cursor:pointer;
  font-size:12px;
  color:var(--text);
}
.ptitle{
  flex:1;
  text-align:center;
  margin:0;
  font-size:14px;
  font-weight:1000;
}

/* Category view container */
#categoryView {
  flex: 1;
  min-height: 0;
  display:flex;
  flex-direction:column;
  gap:8px;
  margin-top: 8px;
}

/* Product viewer modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.modal.open{display:flex}

.viewer{
  width:92%;
  max-height:90vh;
  background:#fff;
  border-radius:26px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.viewerHeader{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  border-bottom:1px solid var(--stroke);
  flex-shrink: 0;
}
.viewerHeader h3{
  margin:0;
  font-size:14px;
  font-weight:1000;
}
.closeBtn{
  border:none;
  background:linear-gradient(135deg,var(--pink),var(--purple));
  color:#fff;
  padding:8px 12px;
  border-radius:12px;
  cursor:pointer;
  font-weight:900;
  font-size:12px;
}
.big{
  width:100%;
  height:45vh;
  object-fit:contain;
  background:#fff;
  flex-shrink: 0;
}
.thumbs{
  display:flex;
  gap:8px;
  overflow:auto;
  padding:10px;
  flex-shrink: 0;
}
.mini{
  width:70px;
  aspect-ratio:1/1;
  object-fit:cover;
  border-radius:14px;
  border:1px solid var(--stroke);
  opacity:.65;
  cursor:pointer;
  background:#f2f2f2;
}
.mini.active{
  opacity:1;
  outline:2px solid var(--pink);
}

/* WhatsApp Button */
.actions{
  padding:10px;
  border-top:1px solid var(--stroke);
  flex-shrink: 0;
}
.btn{
  width:100%;
  border:none;
  padding:10px 14px;
  border-radius:16px;
  font-size:14px;
  font-weight:1000;
  cursor:pointer;
  background:linear-gradient(135deg,var(--pink),var(--purple));
  color:#fff;
}
</style>
</head>

<body>
<div class="wrap">

  <div class="header" onclick="goHome()" style="cursor:pointer">
    <div class="logo"></div>
    <h1>lovingly.framed</h1>
    <p>Frames made with love</p>
  </div>

  <!-- Home view -->
  <div id="homeView">
    <div class="grid" id="catGrid"></div>

    <div class="footer">
      <div>للتواصل:</div>
      <div class="phone">+965 6502 2191</div>

      <div class="wa" onclick="openWhatsAppGeneral()" title="WhatsApp">
        <svg viewBox="0 0 32 32" aria-hidden="true">
          <path d="M19.11 17.29c-.27-.14-1.6-.79-1.85-.88-.25-.09-.43-.14-.61.14-.18.27-.7.88-.86 1.06-.16.18-.32.2-.59.07-.27-.14-1.15-.42-2.19-1.34-.81-.72-1.36-1.61-1.52-1.88-.16-.27-.02-.42.12-.55.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.02-.22-.52-.45-.45-.61-.46-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.95.93-.95 2.27 0 1.34.98 2.64 1.12 2.82.14.18 1.93 2.95 4.68 4.14.65.28 1.16.45 1.56.57.65.21 1.25.18 1.72.11.52-.08 1.6-.65 1.82-1.28.23-.63.23-1.17.16-1.28-.07-.11-.25-.18-.52-.32z"/>
          <path d="M26.73 5.27C24.06 2.6 20.5 1.13 16.73 1.13 9.02 1.13 2.76 7.39 2.76 15.1c0 2.47.65 4.88 1.88 7.01L2.64 30.87l8.96-1.96c2.07 1.13 4.4 1.73 6.78 1.73h.01c7.71 0 13.97-6.26 13.97-13.97 0-3.77-1.47-7.33-4.14-10.4zm-9.99 23.02h-.01c-2.09 0-4.14-.56-5.93-1.61l-.42-.25-5.32 1.16 1.14-5.18-.28-.45c-1.18-1.88-1.8-4.05-1.8-6.26 0-6.57 5.35-11.92 11.92-11.92 3.18 0 6.17 1.24 8.42 3.49 2.25 2.25 3.49 5.24 3.49 8.42 0 6.57-5.35 11.92-11.21 11.92z"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- Category view -->
  <div id="categoryView" style="display:none;">
    <div class="pageTop">
      <button class="back" onclick="goHome()">رجوع</button>
      <h2 class="ptitle" id="catTitle">-</h2>
      <div style="width:64px"></div>
    </div>
    <div class="grid" id="prodGrid" style="flex:1;"></div>
  </div>

</div>

<!-- Product viewer modal -->
<div class="modal" id="modal">
  <div class="viewer">
    <div class="viewerHeader">
      <h3 id="mTitle">-</h3>
      <button class="closeBtn" onclick="closeModal()">إغلاق</button>
    </div>

    <img id="big" class="big" src="" alt="">
    <div class="thumbs" id="thumbs"></div>

    <div class="actions">
      <button class="btn" id="waBtn">اطلب واتساب</button>
    </div>
  </div>
</div>

<script>
const WHATSAPP_NUMBER = "96565022191";

const CATEGORIES = [
  { key:"newborn",  name:"مواليد",   cover:"images/covers/newborn.jpg" },
  { key:"bride",    name:"عروس",     cover:"images/covers/bride.jpg" },
  { key:"grad",     name:"تخرج",     cover:"images/covers/grad.jpg" },
  { key:"balloons", name:"بالونات",  cover:"images/covers/balloons.jpg" }
];

const PRODUCTS = {
  newborn:  [],
  bride:    [],
  grad:     [],
  balloons: []
};

const homeView = document.getElementById("homeView");
const categoryView = document.getElementById("categoryView");
const catGrid = document.getElementById("catGrid");
const prodGrid = document.getElementById("prodGrid");
const catTitle = document.getElementById("catTitle");

const modal = document.getElementById("modal");
const mTitle = document.getElementById("mTitle");
const big = document.getElementById("big");
const thumbs = document.getElementById("thumbs");
const waBtn = document.getElementById("waBtn");

function renderCategories(){
  catGrid.innerHTML = "";
  CATEGORIES.forEach(c=>{
    const card = document.createElement("div");
    card.className = "card";
    card.onclick = ()=> openCategory(c.key);
    card.innerHTML = `
      <img class="thumb" src="${c.cover}" alt="${c.name}" onerror="this.src='https://via.placeholder.com/300/ffe4f1/f6a6c9?text=${c.name}'">
      <div class="meta">
        <h3>${c.name}</h3>
        <span>اضغط لعرض المنتجات</span>
        <div class="badge">دخول</div>
      </div>
    `;
    catGrid.appendChild(card);
  });
}

function openCategory(key){
  location.hash = "#category/" + key;
}

function renderCategory(key){
  const cat = CATEGORIES.find(x=>x.key===key);
  catTitle.textContent = cat ? cat.name : "";
  prodGrid.innerHTML = "";

  const items = (PRODUCTS[key] || []);
  if(items.length === 0){
    prodGrid.innerHTML = `
      <div class="card" style="grid-column:1/-1; cursor:default">
        <div class="meta">
          <h3>قريبًا</h3>
          <span>ضيفي منتجات لهذه الفئة</span>
          <div class="badge">فارغة</div>
        </div>
      </div>
    `;
  } else {
    items.forEach(p=>{
      const card = document.createElement("div");
      card.className = "card";
      card.onclick = ()=> openProduct(p);
      card.innerHTML = `
        <img class="thumb" src="${p.folder}/${p.thumb}" alt="${p.title}" onerror="this.src='https://via.placeholder.com/300/ffe4f1/f6a6c9?text=${p.title}'">
        <div class="meta">
          <h3>${p.title}</h3>
          <span>اضغط لعرض الصور</span>
          <div class="badge">عرض</div>
        </div>
      `;
      prodGrid.appendChild(card);
    });
  }

  homeView.style.display = "none";
  categoryView.style.display = "flex";
}

function openProduct(p){
  mTitle.textContent = p.title;
  big.src = `${p.folder}/${p.photos[0]}`;

  thumbs.innerHTML = "";
  p.photos.forEach((ph,i)=>{
    const im = document.createElement("img");
    im.className = "mini" + (i===0 ? " active":"");
    im.src = `${p.folder}/${ph}`;
    im.onerror = "this.src='https://via.placeholder.com/150/ffe4f1/f6a6c9?text=صورة'";
    im.onclick = ()=>{
      big.src = im.src;
      document.querySelectorAll(".mini").forEach(x=>x.classList.remove("active"));
      im.classList.add("active");
    };
    thumbs.appendChild(im);
  });

  waBtn.onclick = ()=> orderWhatsApp(p.title);
  modal.classList.add("open");
}

function closeModal(){
  modal.classList.remove("open");
}

function orderWhatsApp(title){
  const msg = encodeURIComponent(`السلام عليكم، أبي أطلب: ${title}`);
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,"_blank");
}

function openWhatsAppGeneral(){
  const msg = encodeURIComponent("السلام عليكم، أبي استفسر عن الفريمات.");
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,"_blank");
}

function goHome(){
  location.hash = "";
  categoryView.style.display = "none";
  homeView.style.display = "flex";
  closeModal();
}

function route(){
  const h = location.hash || "";
  if(h.startsWith("#category/")){
    renderCategory(h.split("/")[1]);
  } else {
    goHome();
  }
}

window.addEventListener("hashchange", route);

renderCategories();
route();
</script>
</body>
</html>
