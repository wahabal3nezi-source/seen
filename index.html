<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">
<title>Lovingly Framed</title>
<style>
:root{
  --bg:#fff7fb;
  --bg2:#fde8f2;
  --card:#ffffff;
  --pink:#f6a6c9;
  --purple:#c9b6e4;
  --text:#6a3d57;
  --muted:#9b6f86;
  --stroke:rgba(0,0,0,.06);
  --shadow:0 8px 16px rgba(233,133,179,.18);
  --radius:14px;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 20px); /* زيادة لحل مشكلة سفاري */
}

*{box-sizing:border-box; margin:0; padding:0;}

html, body{
  height:100%;
  width:100%;
  overflow:hidden;
}

body{
  font-family: system-ui, -apple-system, Tahoma, Arial;
  background: linear-gradient(180deg,var(--bg),var(--bg2));
  color:var(--text);
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom); /* لحماية المحتوى من بار سفاري */
}

.container{
  max-width:520px;
  height:100vh;
  height: calc(100vh - var(--safe-top) - var(--safe-bottom)); /* ارتفاع مضبوط */
  margin:0 auto;
  padding:8px 4px 4px 4px; /* تصغير البادنج السفلي */
  display:flex;
  flex-direction:column;
  position:relative;
}

/* Header - مصغر ومرفوع */
.header{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:6px;
  text-align:center;
  margin-bottom:4px;
  flex-shrink:0;
  transform: translateY(-2px); /* رفع بسيط */
}
.header h1{
  font-size:12px;
  font-weight:900;
  margin:0;
}
.header p{
  font-size:9px;
  color:var(--muted);
  margin-top:1px;
}

/* الصفحة الرئيسية - بدون فوائد زائدة */
#homeView{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:3px; /* تصغير الجاب */
  min-height:0;
  overflow:visible;
}

/* شبكة الصور - مصغرة ومرتفعة */
.grid{
  flex:1;
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:3px; /* تصغير الجاب */
  min-height:0;
  margin-bottom: 0; /* إزالة المارجن السفلي */
}

/* البطاقة - مصغرة بدون هوامش زائدة */
.card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:12px;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  min-height:0;
  height:100%;
}

/* العنوان - مصغر */
.card-header{
  background:linear-gradient(135deg, var(--pink), var(--purple));
  color:white;
  padding:4px; /* تصغير البادنج */
  text-align:center;
  flex-shrink:0;
}
.card-header h3{
  font-size:9px; /* تصغير الخط */
  font-weight:900;
  margin:0;
}

/* الصورة - تأخذ مساحة أقل */
.card-image{
  flex:1;
  min-height:0;
  position:relative;
  overflow:hidden;
}
.card-image img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* مربع التواصل - مصغر ومرتفع */
.footer-box{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:5px; /* تصغير البادنج */
  text-align:center;
  margin-top:2px; /* تصغير المارجن */
  flex-shrink:0;
  transform: translateY(-3px); /* رفع العنصر */
}

.contact-info{
  margin-bottom:3px; /* تصغير */
}
.contact-text{
  font-size:9px;
  color:var(--muted);
  margin-bottom:1px; /* تصغير */
}
.phone{
  font-size:9px; /* تصغير */
  font-weight:900;
  color:var(--text);
  direction:ltr;
  unicode-bidi:plaintext;
}

/* زر الواتساب - مصغر */
.whatsapp-button{
  width:28px;
  height:28px;
  border-radius:9px;
  background:#25D366;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:2px auto 0; /* تصغير المارجن */
  cursor:pointer;
}
.whatsapp-button svg{
  width:14px;
  height:14px;
  fill:white;
}

/* المربع السفلي - مصغر ومرتفع */
.bottom-box{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:5px; /* تصغير البادنج */
  text-align:center;
  margin-top:2px; /* تصغير المارجن */
  flex-shrink:0;
  transform: translateY(-4px); /* رفع أكثر */
}
.bottom-box h2{
  font-size:11px; /* تصغير */
  font-weight:900;
  margin:0;
}
.bottom-box .tagline{
  font-size:8px; /* تصغير */
  color:var(--muted);
  margin-top:1px;
}

/* خاصية لرفع كل المحتوى */
.lift-up {
  transform: translateY(-8px);
}
</style>
</head>

<body>
<div class="container lift-up">

  <div class="header">
    <h1>lovingly.framed</h1>
    <p>Frames made with love</p>
  </div>

  <div id="homeView">

    <div class="grid">
      <div class="card">
        <div class="card-header">
          <h3>مواليد</h3>
        </div>
        <div class="card-image">
          <img src="images/covers/newborn.jpg" alt="إطار مواليد">
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>عروس</h3>
        </div>
        <div class="card-image">
          <img src="images/covers/bride.jpg" alt="إطار عروس">
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>تخرج</h3>
        </div>
        <div class="card-image">
          <img src="images/covers/grad.jpg" alt="إطار تخرج">
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>بالونات</h3>
        </div>
        <div class="card-image">
          <img src="images/covers/balloons.jpg" alt="إطار بالونات">
        </div>
      </div>
    </div>

    <div class="footer-box">
      <div class="contact-info">
        <div class="contact-text">للتواصل</div>
        <div class="phone">+965 6502 2191</div>
      </div>
      <div class="whatsapp-button" onclick="window.open('https://wa.me/96565022191','_blank')">
        <svg viewBox="0 0 32 32">
          <path d="M16.7 1.1c-7.7 0-14 6.3-14 14 0 2.5.7 4.9 1.9 7L2.6 30.9l9-2c2.1 1.1 4.4 1.7 6.8 1.7 7.7 0 14-6.3 14-14s-6.3-15.5-15.7-15.5z"/>
        </svg>
      </div>
    </div>

    <div class="bottom-box">
      <h2>lovingly.framed</h2>
      <p class="tagline">Frames made with love</p>
    </div>

  </div>
</div>

<script>
// تصحيح لسفاري - نرفع المحتوى لأعلى
function adjustForSafari() {
  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
  
  if (isIOS || isSafari) {
    // رفع الحاوية كلها
    document.querySelector('.container').style.transform = 'translateY(-10px)';
    
    // تصغير الهوامش أكثر
    document.querySelector('#homeView').style.gap = '2px';
    document.querySelector('.grid').style.gap = '2px';
    
    // تصغير البادنج في كل العناصر
    const elements = document.querySelectorAll('.header, .card-header, .footer-box, .bottom-box');
    elements.forEach(el => {
      const currentPadding = parseInt(window.getComputedStyle(el).padding);
      el.style.padding = (currentPadding - 1) + 'px';
    });
    
    // تصغير الخطوط قليلاً
    const smallTexts = document.querySelectorAll('.header p, .card-header h3, .contact-text, .phone, .bottom-box .tagline');
    smallTexts.forEach(text => {
      const currentSize = parseInt(window.getComputedStyle(text).fontSize);
      text.style.fontSize = (currentSize - 1) + 'px';
    });
  }
}

// تشغيل عند التحميل
window.addEventListener('load', function() {
  adjustForSafari();
  
  // تأكد من أن كل المحتوى مرئي
  setTimeout(() => {
    const container = document.querySelector('.container');
    const body = document.body;
    
    if (container.scrollHeight > body.clientHeight) {
      // إذا كان المحتوى يتجاوز، نرفعه أكثر
      container.style.transform = 'translateY(-15px)';
      container.style.paddingTop = '6px';
      container.style.paddingBottom = '2px';
    }
  }, 100);
});

// إضافة event listener للريسايز
window.addEventListener('resize', adjustForSafari);
</script>
</body>
</html>
