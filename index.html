<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover"/>
  <title>Lovingly Framed</title>

  <style>
    :root{
      --text:#6a3d57;
      --muted:#9b6f86;
      --stroke:rgba(0,0,0,.08);
      --radius:16px;
      --shadow:0 6px 14px rgba(0,0,0,.18);
      --imgBorder: rgba(200,200,200,.35);
      --topbar-h:78px;
      --wa:#23D366;
      --loading-bg: #f5f5f5;
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html,body{height:100%;}

    body{
      font-family:'Segoe UI', 'Tahoma', 'Arial', sans-serif;
      background: linear-gradient(135deg, #fff7fb 0%, #fef2f7 100%);
      color:var(--text);
      overflow-x:hidden;
      padding-top:12px;
      padding-bottom:env(safe-area-inset-bottom);
    }

    body.catalog-mode{
      background:#000;
      color:#fff;
    }

    .container{
      max-width:560px;
      margin:0 auto;
      padding:12px;
    }

    .view-hidden{display:none!important;}

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ - Ø«Ø§Ø¨Øª */
    .top-bar{
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:1000;
      background:#fff;
      border-bottom:1px solid var(--stroke);
      box-shadow:0 4px 12px rgba(0,0,0,.08);
      padding:10px 12px;
      height:var(--topbar-h);
      display:flex;
      align-items:center;
      justify-content:center;
      max-width:560px;
      margin:0 auto;
    }

    body.catalog-mode .top-bar{
      background:#111;
      border-color:rgba(255,255,255,.12);
      color:#fff;
    }

    .back-btn{
      display:none;
      position:absolute;
      right:12px;
      top:50%;
      transform:translateY(-50%);
      border:none;
      background:#111;
      color:#fff;
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      cursor:pointer;
      z-index:2;
    }

    .brand{
      text-align:center;
      line-height:1.15;
      width:100%;
      pointer-events:none;
      font-family: 'Georgia', 'Times New Roman', serif;
    }

    .brand .made{
      font-size:18px;
      font-weight:900;
      color:#d63384;
    }

    .brand .handle{
      font-size:14px;
      font-weight:600;
      direction:ltr;
      opacity:.9;
      color:var(--text);
    }

    /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‡ÙˆØ§Ù…Ø´ Ù„ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø«Ø§Ø¨Øª */
    .main-content{
      margin-top: calc(var(--topbar-h) + 12px);
    }

    /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    .home-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:16px;
      margin-top:12px;
    }

    .home-card{
      background:#fff;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      cursor:pointer;
      transition: all 0.3s ease;
      border: 3px solid transparent;
      aspect-ratio: 3/4;
    }

    .home-card:hover{
      transform: translateY(-4px);
      box-shadow:0 10px 20px rgba(0,0,0,.2);
      border-color: #ff66a3;
    }

    .home-card img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    /* ÙƒØ±Øª Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ */
    .contact-card{
      background: linear-gradient(135deg, #fff 0%, #fcf2f7 100%);
      border-radius:20px;
      box-shadow:0 8px 20px rgba(0,0,0,.08);
      padding:20px;
      text-align:center;
      margin-top:24px;
      border: 1px solid rgba(255,182,193,0.3);
    }

    .contact-card .title{
      font-size:14px;
      font-weight:600;
      color:var(--muted);
      margin-bottom:10px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .contact-card .phone{
      font-size:20px;
      font-weight:700;
      direction:ltr;
      color:#c2185b;
      margin-bottom: 5px;
    }

    .wa-btn{
      margin-top:15px;
      padding:14px 20px;
      border-radius:16px;
      background: linear-gradient(135deg, var(--wa) 0%, #1da851 100%);
      color:#fff;
      font-size:16px;
      font-weight:700;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      border:none;
      width:100%;
      cursor:pointer;
      transition: all 0.3s ease;
      box-shadow:0 4px 12px rgba(35,211,102,0.3);
    }

    .wa-btn:hover{
      transform: translateY(-2px);
      box-shadow:0 6px 16px rgba(35,211,102,0.4);
    }

    .wa-icon{
      width:32px;
      height:32px;
      border-radius:50%;
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .wa-icon svg{width:18px;height:18px;fill:var(--wa);}

    /* Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± - ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ */
    #catalogView{ 
      margin-top:12px;
    }

    .feed{
      display:flex;
      flex-direction:column;
      gap:24px;
      padding-bottom: 20px;
    }

    .post{
      background:#111;
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 12px 32px rgba(0,0,0,.5);
      position: relative;
      transform: translateY(0);
      transition: transform 0.3s ease;
    }

    .post:hover{
      transform: translateY(-4px);
    }

    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØµÙˆØ±Ø© Ø«Ø§Ø¨ØªØ© Ø§Ù„Ù†Ø³Ø¨ Ø¨Ø¯ÙˆÙ† Ù…ÙŠÙ„Ø§Ù† */
    .post .ph{
      background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);
      width:100%;
      aspect-ratio: 4/5;
      position: relative;
      overflow: hidden;
    }

    .post img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .post img.loaded{
      opacity: 1;
    }

    /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
    .loading-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        #2c2c2c 0%, 
        #3a3a3a 50%, 
        #2c2c2c 100%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255,255,255,0.5);
      font-size: 14px;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .end-note{
      text-align:center;
      color:rgba(255,255,255,.75);
      font-weight:900;
      padding:32px 10px 40px;
      font-style: italic;
      font-family: 'Georgia', serif;
    }

    /* ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…ÙˆÙ‚Ø¹ */
    .hero-text{
      text-align: center;
      margin: 20px 0;
      padding: 0 10px;
    }

    .hero-text h1{
      font-size: 28px;
      color: #d63384;
      margin-bottom: 8px;
      font-family: 'Georgia', 'Times New Roman', serif;
    }

    .hero-text p{
      color: var(--muted);
      font-size: 16px;
      line-height: 1.6;
    }

    /* ÙØ¦Ø§Øª Ø§Ù„ØµÙˆØ± */
    .category-label{
      text-align: center;
      margin: 25px 0 15px;
      color: #c2185b;
      font-weight: 700;
      font-size: 18px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ */
    .footer{
      text-align: center;
      padding: 20px;
      margin-top: 30px;
      color: var(--muted);
      font-size: 14px;
      border-top: 1px solid var(--stroke);
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø«Ø§Ø¨Øª -->
    <div class="top-bar">
      <button id="backBtn" class="back-btn" onclick="goBack()">â† Ø±Ø¬ÙˆØ¹</button>
      <div class="brand">
        <div class="made">ØµÙÙ†Ø¹ Ø¨Ø­Ø¨ ğŸ©·</div>
        <div class="handle">lovingly-framed</div>
      </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content">
      <section id="homeView">
        <div class="hero-text">
          <h1>Ø£Ø·Ø±Ø§Ù Ø±Ø§Ø¦Ø¹Ø©.. Ø¨Ù„Ù…Ø³Ø© Ø­Ø¨ ğŸ’•</h1>
          <p>Ø¥Ø¨Ø¯Ø§Ø¹ ÙÙŠ ÙƒÙ„ ØªÙØµÙŠÙ„Ø©ØŒ Ø¬Ù…Ø§Ù„ ÙÙŠ ÙƒÙ„ Ø¥Ø·Ø§Ø±</p>
        </div>

        <div class="category-label">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</div>
        
        <div class="home-grid">
          <div class="home-card" onclick="openCatalog('bridal')">
            <img src="images/bridal/1.jpg" alt="Ø£Ø·Ø±Ø§Ù Ø²ÙØ§Ù">
          </div>
          <div class="home-card" onclick="openCatalog('newborn')">
            <img src="images/newborn/1.jpg" alt="Ø£Ø·Ø±Ø§Ù Ù…ÙˆØ§Ù„ÙŠØ¯">
          </div>
          <div class="home-card" onclick="openCatalog('balloons')">
            <img src="images/balloons/1.jpg" alt="Ø¨Ø§Ù„ÙˆÙ†Ø§Øª">
          </div>
          <div class="home-card" onclick="openCatalog('grad')">
            <img src="images/grad/1.jpg" alt="ØªØ®Ø±Ø¬">
          </div>
        </div>

        <div class="contact-card">
          <div class="title">Ù„Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±</div>
          <div class="phone">+965 6502 2191</div>
          <button class="wa-btn" onclick="openWhatsApp()">
            <span>ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¨Ø§Ø´Ø±</span>
            <span class="wa-icon">
              <svg viewBox="0 0 32 32">
                <path d="M16.7 1.1c-7.7 0-14 6.3-14 14 0 2.5.7 4.9 1.9 7L2.6 30.9l9-2c2.1 1.1 4.4 1.7 6.8 1.7 7.7 0 14-6.3 14-14S24.4 1.1 16.7 1.1z"/>
              </svg>
            </span>
          </button>
        </div>

        <div class="footer">
          <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© ØµÙ†Ø¹ Ø¨Ø­Ø¨ 2024</p>
        </div>
      </section>

      <section id="catalogView" class="view-hidden">
        <div class="feed" id="feed"></div>
      </section>
    </div>
  </div>

  <script>
const BRIDAL_COUNT = 9;
const NEWBORN_COUNT = 27;
const BALLOONS_COUNT = 7;
const GRAD_COUNT = 6;

const IMAGE_ROOT = "images";
const EXT = "jpg";
const START_INDEX = 2;

const LIMITS = {
  bridal: BRIDAL_COUNT,
  newborn: NEWBORN_COUNT,
  balloons: BALLOONS_COUNT,
  grad: GRAD_COUNT
};

const homeView = document.getElementById("homeView");
const catalogView = document.getElementById("catalogView");
const feed = document.getElementById("feed");
const backBtn = document.getElementById("backBtn");
const mainContent = document.querySelector('.main-content');

let io = null;

// Ø¥ØµÙ„Ø§Ø­ Ø²Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
function openWhatsApp() {
  const phoneNumber = '+96565022191';
  const message = 'Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø£Ø·Ø±Ø§Ù ğŸ€';
  const url = `https://wa.me/${phoneNumber.replace(/\D/g, '')}?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

// Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ÙŠØªØ­Ø±Ùƒ Ù…Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ±
let lastScroll = 0;
window.addEventListener('scroll', () => {
  const currentScroll = window.pageYOffset;
  if (currentScroll <= 0) {
    document.querySelector('.top-bar').style.transform = 'translateY(0)';
    return;
  }
  
  if (currentScroll > lastScroll) {
    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„
    document.querySelector('.top-bar').style.transform = 'translateY(-100%)';
  } else {
    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø¹Ù„Ù‰
    document.querySelector('.top-bar').style.transform = 'translateY(0)';
  }
  lastScroll = currentScroll;
});

function ensureObserver(){
  if(io) return;
  io = new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(!e.isIntersecting) return;
      const container = e.target;
      const img = container.querySelector('img');
      const loading = container.querySelector('.loading-placeholder');
      
      if(img && !img.src) {
        img.src = img.dataset.src;
        img.removeAttribute("data-src");
        img.onload = () => {
          img.classList.add('loaded');
          if(loading) loading.style.display = 'none';
        };
      }
      io.unobserve(container);
    });
  },{rootMargin:"800px"});
}

function makePost(url){
  const d = document.createElement("div");
  d.className = "post";
  d.innerHTML = `
    <div class="ph">
      <div class="loading-placeholder">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
      <img data-src="${url}" loading="lazy" alt="ØµÙˆØ±Ø© Ø¥Ø·Ø§Ø±">
    </div>
  `;

  ensureObserver();
  io.observe(d);
  return d;
}

function renderFeed(cat){
  feed.innerHTML = "";
  const max = LIMITS[cat] || 0;
  const categoryNames = {
    bridal: "Ø£Ø·Ø±Ø§Ù Ø§Ù„Ø²ÙØ§Ù ğŸ’",
    newborn: "Ø£Ø·Ø±Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯ ğŸ‘¶",
    balloons: "Ø¨Ø§Ù„ÙˆÙ†Ø§Øª ğŸˆ",
    grad: "Ø£Ø·Ø±Ø§Ù Ø§Ù„ØªØ®Ø±Ø¬ ğŸ“"
  };

  const title = document.createElement("div");
  title.className = "hero-text";
  title.innerHTML = `<h1>${categoryNames[cat] || "Ø§Ù„Ù…Ø¹Ø±Ø¶"}</h1>`;
  feed.appendChild(title);

  for(let i = max; i >= START_INDEX; i--){
    feed.appendChild(
      makePost(`${IMAGE_ROOT}/${cat}/${i}.${EXT}`)
    );
  }

  const end = document.createElement("div");
  end.className = "end-note";
  end.textContent = "âœ¨ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø¹Ø±Ø¶ âœ¨";
  feed.appendChild(end);
  window.scrollTo({top: 0, behavior: 'smooth'});
}

function openCatalog(cat){
  document.body.classList.add("catalog-mode");
  homeView.classList.add("view-hidden");
  catalogView.classList.remove("view-hidden");
  backBtn.style.display = "inline-flex";
  renderFeed(cat);
}

function goBack(){
  document.body.classList.remove("catalog-mode");
  catalogView.classList.add("view-hidden");
  homeView.classList.remove("view-hidden");
  backBtn.style.display = "none";
  window.scrollTo({top: 0, behavior: 'smooth'});
  document.querySelector('.top-bar').style.transform = 'translateY(0)';
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
document.addEventListener('DOMContentLoaded', function() {
  const homeImages = document.querySelectorAll('.home-card img');
  homeImages.forEach(img => {
    if(img.complete) {
      img.style.opacity = '1';
    } else {
      img.onload = function() {
        this.style.opacity = '1';
      };
      img.style.opacity = '0';
      img.style.transition = 'opacity 0.5s ease';
    }
  });
});
  </script>
</body>
</html>
